#!/bin/bash

TARGET="./rsa-crypt.cpp"

echo "//" > "$TARGET"
echo "// NOTE: AUTO GENERATED FILES DO NOT EDIT" >> "$TARGET"
echo "//" >> "$TARGET"
echo >> "$TARGET"

files=(
    "bigint/BigInt.h"
    "bigint/DecimalHelpers.h"
    "App.h"
    "bigint/BigInt.cpp"
    "bigint/DecimalHelpers.cpp"
    "App.cpp"
    "main.cpp"
)

for f in "${files[@]}"; do
    echo >> "$TARGET"
    echo "//" >> "$TARGET"
    echo "// #BEGING_FILE {{{ $f" >> "$TARGET"
    echo "//" >> "$TARGET"
    cat "./src/$f" >> "$TARGET"
    echo >> "$TARGET"
    echo "//" >> "$TARGET"
    echo "// #END_FILE $f }}}" >> "$TARGET"
    echo "//" >> "$TARGET"
done
